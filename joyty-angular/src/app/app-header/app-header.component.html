<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="/home">
            <img src="../assets/joyty-favicon-color.png" alt="JoyTY logo" width="45" height="45" class="d-inline-block" />    
            JoyTY
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto">
                @if (isLoggedIn) {
                    <li class="nav-item">
                        <a href="/user" class="nav-link" routerLink="user" aria-current="page">User</a>
                    </li>
                }
                @if (showModApp) {
                    <li class="nav-item">
                        <a href="/mod" class="nav-link" routerLink="mod">Mod</a>
                    </li>
                }
                @if (showAdminApp) {
                    <li class="nav-item">
                        <a href="/admin" class="nav-link" routerLink="admin">Admin</a>
                    </li>
                }
            </ul>
            <ul class="navbar-nav align-items-center">
                @if (!isLoggedIn) {
                    <li class="nav-item">
                        <a href="/register" class="nav-link" routerLink="register">SignUp</a>
                    </li>
                    <li class="nav-item">
                        <a href="/login" class="nav-link" routerLink="login">Login</a>
                    </li>
                } @else {
                    <li class="nav-item me-2">
                        <div class="text-white"><strong>{{ username }}</strong></div>
                    </li>
                    <li class="nav-item">
                        <button 
                            type="button" 
                            class="btn btn-outline-light" 
                            (click)="openNotification()"
                        >
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            @if (profileImg) {
                                <img src="data:image/jpeg;base64,{{ profileImg.data }}" alt="Profile image" class="avatar avatar-small">
                            } @else {
                                <img src="../../assets/avatar.webp" alt="avatar" class="avatar avatar-small">
                            }
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/profile" routerLink="profile">Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><button class="dropdown-item text-danger" type="button" (click)="logOut()">Logout</button></li>
                        </ul>
                    </li>
                    <!-- <div class="d-flex gap-2 align-items-center">
                        <div class="text-white">
                            <p><strong>{{ username }}</strong></p>
                        </div>
                        <div>
                            <button 
                                type="button" 
                                class="btn btn-outline-light" 
                                (click)="openNotification()"
                            >
                                <span class="navbar-toggler-icon"></span>
                            </button>
                        </div>
                        <div>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <img src="../../assets/avatar.webp" alt="avatar" class="avatar avatar-small">
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="/profile" routerLink="profile">Profile</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><button class="dropdown-item text-danger" type="button" (click)="logOut()">Logout</button></li>
                                </ul>
                            </li>
                        </div>
                    </div> -->
                }
            </ul>
        </div>
    </div>
</nav>